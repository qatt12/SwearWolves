#                                 `--://+osyyyyso//:.`
#                               .:/oyyyysssssyyyhyyhsoo:
#                             .:/oyyssoooossssooooydyhhss:
#                            -::sysooooossooooooooy:ssyhys+
#                           :--ssooooossoooooooooy+`-soyyhs+
#                          ---ssooooooooooooooooy+-::/yosysy/
#                          :--+oooooooyoooooooyo.``..`:ssoyso.
#                          ..::ooooooyooooosyo-````````/hohoy-
#                        :/:/+/soooohoooshy+-.``````````yshoo-`
#                         +:s+y+syoyssssy::++/.``````-+/ydsoo`
#                          /::///o+hsoosyddyoym.````ohydoh/o-
#                          `./:/-.osoos/:sds.-+``.-/dssos/..
#                          ` .oo+-soooy.---.`.``.::+/.+so.
#                         `.+sohs+hooos````````./:::/./oo
#                     `:+osoosyos+ssoso`````...`.:----++s`
#                  `:+ossoooo/::/+ososy/:-`````````-:-`+o+
#                `/oosssooooo+:`:+ysooho+//:-...-:/:.  `ss:
#               :oooysooooss:++/:--+soy:+ooo-//+o/:///-.`oy/
#              :oooysooosyssooysss/::oo/-:/oso+o+:::/o//` /y+`
#             .+ooysoooysoys///+/+/+///o::::///:::+sys+-..`:s/-`
#             -ooyyoosyssdyhhyyo++//://++//////////ssoy----`+.
#             /oohooyyosmdmm/-----:+ooo/:/+/+////:--sss/o/-:-
#             +oyyosyoomhyN+```````...:o/::::---:::--+soso++s
#            `/ohosyoohdosm:.```````.`.-o:.-...---```..-/oyshy+-
#            `/ohohoosmsohd--```````.:/-o++.````.-::-.````-o:ssys:
#             :+hohoohdooyh:..````````:++/os+:-.``.-:::-```+y+sydds. `
#             -:ysyoohhsoshy./.````````++/++oso++/-..-:::``/h++ohyoh-
#              :/hyoohshooyd/o-.```````.o/////+++osso:-::/`oo+++od:+d`.`
#              `/+ysohohsooh+yh-.`````-.-o+///+++++++oo+:+:s++++/d/-d:.`
#               `:+ssdoshsossomy+:.```:-.:y+//++++++++++oys+++++oh++s`.
#                 -+oyyoohyoo+y+yo/.``.:-.+y///++++++++oydsoshyhss+-/
#                  `:ohysoyhsss//do/-```-:-ss+//++ooooossd+/syo/.   .
#                     .ohy+oyhh:`:ho//.```.-ssso+sssssoo+m..oo`
#                       `:+soym-  yso:/.````.+.so+o+++++sy..oo
#                         `oysm/  o/yd/.`````.++s+++++++Ns-.os
#                          .oyyh  sh+dmy:`````-+ss+++++sN+/-os
#                         ` `+oy `m//oydms-````:/ys+++ohd+:/ss`
#                        `` `h+/`yd.o/osoddo-``.:-ho+oysmy--s/:   `
#                         ` os.:ym+o+//os:smh+.```:doh+yhh/.o:s```````````....:/++//:////::--..`
#                       ```/o`:hNd/////+os:/hd/.```+yys+yyy.o-y:://////////++///++oosyso+////:--:.
#                -       `.s`+hNNs/////++oy:-o.`````odo+ysh-/+y-::::::::::::+ooo+//////+ooo:-://--/`
#                :       `s.-yddy+////////+ho:+...-.:mysyhy//ss++//o++/::::::://ossoo++sos+oy+..:o-+
#                ``     `o.`yhyy+/////////+ohyyyooo+//:/::o..+````.`...-...--...``.-:++/:+ss+yh/..so`
#                       o-`+syd+///+o++oooo+/ssss-`````...s``+````.```````````....````.:/.:y//yh+./h`
#                      +: +.om+++ooos+/--.``:++/`````````.s``+.```.``````````````..`````./-/+--h++:m
#                     +: /:-d//+o+:-:``````.o/o```````````-``-.```````````````````````````++/-`ssoo/
#                    +- ./ ss`.:-.`````````/+/o.``````````````````````````.```````````````-h-:-hss+
#                  `o/  o `m/-`````````````/o++//:-``````````````````..-:-.```..`````````-+s-/ydd+
#                  o/: -/ -d.`.````````````.y+/++-```````````````-:::/+s+-..--..```````.+++o/hd+-
#                 ./+  o` oo````````````````o++o/..``````````````--:sdo://+/--/..```..:so++-yy-
#                   +  o  h/ ```````````````.y++/:--``````````````+hhs+/++/::+-..``/oho/o-/:y.
#                  .:  o  y+ ````````````````:so+/+``````````../+hms+--/--/:-o/. `/os+sho/``:``
#                  :-  o `oo```````````.``````-os+o/-....-/////:hs/-:/-:+--:/s..-+hs+yhs+`    ``..``
#               ``.::``-/`o.s``````````````````.:osossoo//:.---sh-+--+::+/-:+::/yhoooo-:..--.``   `...
#         ``--....``+--.o:+`-o:..``````````...:////s:---:////:ooy::+::+--+:--:oosooo-.       `.....`
#    ``--...``---....`   +-   .:/o///////:::::-```.s+oo+/:-.``do:/-:+--/:-//+oos++: `````          ```
# .--.. `.::-:...``   `   :/.`   `..---..-:----:so+s/...`    /ys-/:-:/:-:/+ssy++:   ````.-:--...```
# `  `---.       `...---``  -:::.````````...--..``` +        hs/--/:--::/osy+oo---......` .``
# `--.                  .-----``.-----......`     ``-/--.--.:d+-/--::-:syysoo.`          .  `  ``
# ````                        .----.`       `.:://+//+o::-..+o::-:--:syyoso-  -          -  `  .     -
#  ``..`                           `....-:/++//+o:::.``+:::/h:-::-:/ss+/o//  :`         -`  ` .`    `:
#      `..--.            ```     `..:+oo+/+:--.`:```-:oy++s/h-:--/+oo:/y+`/  +          /   ` :     /
#           `.----` ```..````````-+s+::---.    .- .yos//.:o/s--:+yo/++//o/. --          /   ``-    -.
# ``              .--:-`      .//:`---`  -`    :. -s/.-:/:/y+::/ss--ss--y/  +          `:   `-     /
# `..`                 .-.--+s/``--`     /     /  `s::--://s:/::-y-:+s-:y   +          -.   `:    `:
#    `...`               -/s/..+.        +     /   .o//:--+///::-h-o:s-s:  `+          /    .-    :`
#        `....         -/-+` ..:        `/     /    `+s:/o+:--:/oy-o+/.h/  -:          /    :`    :
#   ```       ..-.   `/- +` .`.-        --     /     `y/:o--:+::yo+/s-s:+  :.          /   `:     -
#      ````````  `..-+`  .``` /`        +`     /     -o/-o---+..d/o/so//.  /.          +   `-     .
#              ````-+       ` +         o      /     .s--o---o-/yo/+o+s/   /.          /   ..     .
#                  o          +         o      /     `o--o---o:/hossdmd    :.          /          `

# blocks are, as stated in the spriteling file, intended to be placed and then never moved. With the notable exception
# of floors, blocks are also supposed to impede movement

import spriteling, pygame, config


# Straight up copy-pasted this stuff from my earlier project. it should work in here with limited modificcations
class wall(spriteling.block):
    def __init__(self, facing, *args):
        super(wall, self).__init__(*args)
        self.facing = facing
        self.damage = 0
        if facing == 'down':
            self.hitboxes.add(spriteling.hitbox(self,
                                                scale_y=-65, bottom_side=self.rect.bottom))
        elif facing == 'top':
            self.hitboxes.add(spriteling.hitbox(self,
                                                scale_y=-65, top_side=self.rect.top))
        elif facing == 'left':
            self.hitboxes.add(spriteling.hitbox(self,
                                                scale_x=-65, left_side=self.rect.left))
        elif facing == 'right':
            self.hitboxes.add(spriteling.hitbox(self,
                                                scale_x=-65, right_side=self.rect.right))


# this is for inward facing/concave corners.
class corner(spriteling.block):
    def __init__(self, facing, *args):
        super().__init__(*args)

        if facing == 'top_left':
            self.hitboxes.add(spriteling.hitbox(self,
                                                scale_x=-50, scale_y=-50,
                                                top_side=self.rect.top, left_side=self.rect.left))
        elif facing == 'top_right':
            self.hitboxes.add(spriteling.hitbox(self,
                                                scale_x=-50, scale_y=-50,
                                                top_side=self.rect.top, right_side=self.rect.right))
        elif facing == 'bottom_right':
            self.hitboxes.add(spriteling.hitbox(self,
                                                scale_x=-50, scale_y=-50,
                                                bottom_side=self.rect.bottom, right_side=self.rect.right))
        elif facing == 'bottom_left':
            self.hitboxes.add(spriteling.hitbox(self,
                                                scale_x=-50, scale_y=-50,
                                                bottom_side=self.rect.bottom, left_side=self.rect.left))


# the floor sprite is bit tricky, as it creates a rectangular floor of the size specified and sets it as its image
# this is intended to be treated as the main image/surface of a/the room
class floor(spriteling.block):
    def __init__(self, size, theme, *args):
        # passes dummy params to the parent class
        super().__init__(theme.image_lookup['f'], (0, 0))
        size_x, size_y = size[0], size[1]
        self.image = pygame.Surface((size_x * config.tile_scalar, size_y * config.tile_scalar))

        for y in range(0, size_y+1):
            for x in range(0, size_x+1):
                self.image.blit(theme.image_lookup['f'], (x * config.tile_scalar, y * config.tile_scalar))
                print('blitting a floor', "x = ", x, "y = ", y)

        self.rect = self.image.get_rect()

        print(self.rect)

class door(spriteling.block):
    def __init__(self, **kwargs):
        super().__init__(pygame.image.load('baddies\loogloog.png').convert_alpha(), (0, 0))
        if 'coords' in kwargs:
            self.rect.center = kwargs['coords']
        if 'root_wall' in kwargs:
            self.rect.center = kwargs['root_wall'].rect.center
        if 'side_x' in kwargs:
            self.rect.centerx = kwargs['side_x']
            self.rect.centery = (kwargs['pos']*config.tile_scalar) +50
        if 'side_y' in kwargs:
            self.rect.centery = kwargs['side_y']
            self.rect.centerx = (kwargs['pos']*config.tile_scalar) +50

    def enter(self, player):
        player.rect.center = self.rect.center

    def adjust(self, **kwargs):
        if 'left' in kwargs:
            self.rect.left = kwargs['left']
        if 'right' in kwargs:
            self.rect.right = kwargs['right']
        if 'top' in kwargs:
            self.rect.top = kwargs['top']
        if 'bottom' in kwargs:
            self.rect.bottom = kwargs['bottom']