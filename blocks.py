#                                  `.-::/+osyyyyso//:.`
#                               .-/oyyyyyysssyyhhhyhsoo:
#                             .:/oyyyssooossysooosymhddys:
#                            -::sysooooossooooooooh:ysyhhy+
#                           :--syooooossoooooooooy/ .soyyhs+
#                          ---ssoooossooooooooooy/.-:/yoyhyy/
#                          :--+oooooooysooooooyo.  `` -ssohso.
#                          ..::oooooshsoooosy+.        :hohoy.
#                        :/-/+/soooohoosshy+-`          yshoo-
#                         +:s+s+yyohssyyy:://:`      -+/ydsoo`
#                          /:://:o/dssosyddhoym`    ohydoh:o-
#                          `./-:-.osoos/-sds..+  `-/dssoy/..
#                            .so/-soooy`...```  `:-+:`+so.
#                         `.oyods+hooos        `/::::`/oo
#                     `:+ossssyos+ssoso     .```.:--..++y`
#                  `:+ssssoos/:::/ososy/:-`  `   ` .:-`+o+
#                `/oosysooooo+-`:+ysooho+//:-```.:/:.  `ss:
#               -oooyyooooys-///-.-+s+y:+o+o.://o:-:::-.`oy/
#              :oooysooosyssooyoso:--++:.-/+oo+++---:+:/` /y+`
#             ./ooysoosyysys//:/:/://-/+-----:----/sys/.`.`:s/.`
#             -ooyyooshssdyhhyy+//:--:://:::::::::/ssoy..`.`+.
#             /oohooyyosmdNm:....--+ooo:-:///:://...sss/o/.--
#             ooyyoyyoomhyN+       ```:o::---....---.+sooo/+s
#            `/ohoshooddosm-`       ```-o-`...`.-.`  ``.:oyshy+-
#            `:ohohoosmsohd..       `-/.o++`    `.--.`   `-o:ssys:
#             :+hohoohdooyh:``       `:++/os+:-`  `.-::.   /y/oydds.
#             -:yyyoodhsoshh`/``      `++://oso++:.``--::  :h++ohhod-
#              :/hhoodshooyd/o-`       `+::::/+++oss+:.--: oo+++od:+d`.`
#              `:+hsodohsooh+hh-`     .`.o//:/++++++ooo+:+:y++++:d/-d:.`
#               `:+ssdosdsossomy+:`   :.`:y+:/++++++++++syso++++od++s .
#                 -/oyyoshyoo+y+yo:`  `:-`/y/:/++++++++ohdsoshyhys+-/
#                  `:shysoyhsss//do/-   .:-ss+:/+oooosossm+/sys/`   `
#                     .ohy+shdd:`:ho::`   `.ssso+sssssooom``oo
#                       `:/soyN-  ys+-:`    `+.o+oooo+++sy``oo
#                         `oysm/  o/yd:`     `++s+++++++Ns``os
#                          `oyyh  sh+dmy-     .+sy+++++yN+:`os
#                         ` `+oy `m//+ydms.    -/ys+++ohm+-:oo`
#                        `` `h+/`yd.o:+sohdo. ``:-ho+ohsmy`.s/:
#                         ` os.:ym/o///+s-oNh/`   :dohoyhh:`o-s````````````...:/++//:////:::-..`
#                        ``/o`:hNd:::://os-/hh/`   /yyy+yhy`+-y::://////::/+/////+++oys+////::--:.
#                -        .s`+hNNs/////+/oy:-+`    `odo+ysh.//y-----:::-----/oo+//:://:/+++:--:/--/`
#                :       `s..yddy/:::::///+ho:+``...:mhyyhy//ss////o///::---:::/+ssoo/+sos/+s+.`:+-+
#                ``      o.`yhys//////////++dyyyoo++/::/-:o``+`   ````........``  `.-//::/so+yh/``so`
#                       o- +syd+////o/+oo+o+/soss.     ```s  +    `           ````    `-:`-y:/yh+`/d`
#                      +: +.om++/+++s+/-..  :///`        `o  /`   `              ``     `/.:+-.h+/:m
#                     +: /--d/:+++:.-      `o:o           -  .`                          `+//- ssoo/
#                    +- ./ ss`.-.`         :+/+`                         ``               .y.-.hss+
#                  `o/  o `N/-`            :o+/:::.                  ``.-.`   ``         .+s-:hmm+
#                  o/: -/ -d.```           .y+///.               -::::+s+.``..``       .+++o/hd+-
#                 ./+  o  oo                oo+o:``             `..-sdo::/+/.-/.`   `.:so++-yy-
#                   +  o  h/                `y++/--.             `/dhs+/+//::/-.. `/oho/o-::y.
#                  .:  o  y+                 -so+/+         ``.:/hmo+--/--:--o/. `/oy/sho/` :`
#                  --  o  oo`          `      .os/+/.```..://::-ho/--/--/--:/s..-/hs/yhs+`    ``..``
#                `.::``-/ o.s`                 `-+sossoo/:.``..sh-+--/:-/:-:/--:yhoooo--..--.``   `...
#         ``--....``+--.o:o`-o:``         ```.-////s-...-:://:ooy::+--/--+---:ooso+o-.       `.....`
#    ``--...``---....`   +-   .:/+//::::::::::.```.s+oo+::-.``do:/-:/--/:-//+oos++: `````          ```
# .--.. `.-:-:...`        :/.`   `..---..-:----:so+s/...`    /yo-::--/--:/+ssy+o:   ````.----...```
# `  `---.       `...---``  -:::.````` ``...--..``` +        hs/--:---::/osy+oo-.-......` .``
# `-..                  ..----``.-----.....``     ``-/-----.:d/-/---:-:syysoo.`          .  `  ``
# ```                         .----.`       `.:://+//+o:--..+o---:---oyyooo-  -          -  `  .     -
#  ``..`                            ....-:/++//+o:::.``+:::/h---:--/ss//o//  :`         -`  ` .`    `:
#      `..--.            `       ``.-+ooo/+:--` :  `-:oy++s/h-:--:+oo-:y+`/  +          /   ` :     /
#           `.----` ```..````````-+s+::---.    .- .yos//.:o:s--:+y+:++/:o/` --          /   ``-    -.
# `               .--:-`      .//:`---   -`    :. -s/.-:/-/y+-:/ss--ss--h/  +          `:   `:     /
# `..`                 .-.--+s/``--`     /     /  `s:----/:o:/::-y--+s-:y   +          -.   `:    `:
#    `...`               -/s/..+.        /     /   .o/::--+//::--h-+:s.s:  `+          /    .-    :`
#        `....         -/-+` ..:        `/     /    `/s-:o/:--::+y-o+/.h+  -:          /    :     :
#             ..-.   `+- +` . .-        --     /     `y/-o--:+:-yo//s-o:+  :.          /    :     -
#       ```````  `..-+   . `` /`        +      /     -o:-+---+..d:o:s+//.  /.          /   `-     .
#              ````-+         +         o      /     .s-.o---o-/yo:+++s/   /.          /   ..     .
#                  o          +         o      /     `o-.o---o-/hossdNd    :.          /          `

# blocks are, as stated in the spriteling file, intended to be placed and then never moved. With the notable exception
# of floors, blocks are also supposed to impede movement

import spriteling, pygame, config


# Straight up copy-pasted this stuff from my earlier project. it should work in here with limited modificcations
class wall(spriteling.block):
    def __init__(self, facing, *args):
        super(wall, self).__init__(*args)
        self.facing = facing
        self.damage = 0
        if facing == 'down':
            self.hitboxes.add(spriteling.hitbox(self,
                                                scale_y=-65, bottom_side=self.rect.bottom))
        elif facing == 'top':
            self.hitboxes.add(spriteling.hitbox(self,
                                                scale_y=-65, top_side=self.rect.top))
        elif facing == 'left':
            self.hitboxes.add(spriteling.hitbox(self,
                                                scale_x=-65, left_side=self.rect.left))
        elif facing == 'right':
            self.hitboxes.add(spriteling.hitbox(self,
                                                scale_x=-65, right_side=self.rect.right))


# this is for inward facing/concave corners.
class corner(spriteling.block):
    def __init__(self, facing, *args):
        super().__init__(*args)

        if facing == 'top_left':
            self.hitboxes.add(spriteling.hitbox(self,
                                                scale_x=-50, scale_y=-50,
                                                top_side=self.rect.top, left_side=self.rect.left))
        elif facing == 'top_right':
            self.hitboxes.add(spriteling.hitbox(self,
                                                scale_x=-50, scale_y=-50,
                                                top_side=self.rect.top, right_side=self.rect.right))
        elif facing == 'bottom_right':
            self.hitboxes.add(spriteling.hitbox(self,
                                                scale_x=-50, scale_y=-50,
                                                bottom_side=self.rect.bottom, right_side=self.rect.right))
        elif facing == 'bottom_left':
            self.hitboxes.add(spriteling.hitbox(self,
                                                scale_x=-50, scale_y=-50,
                                                bottom_side=self.rect.bottom, left_side=self.rect.left))


# the floor sprite is bit tricky, as it creates a rectangular floor of the size specified and sets it as its image
# this is intended to be treated as the main image/surface of a/the room
class floor(spriteling.block):
    def __init__(self, size, theme, *args):
        # passes dummy params to the parent class
        super().__init__(theme.image_lookup['f'], (0, 0))
        size_x, size_y = size[0], size[1]
        self.image = pygame.Surface((size_x * config.tile_scalar, size_y * config.tile_scalar))

        for y in range(0, size_y+1):
            for x in range(0, size_x+1):
                self.image.blit(theme.image_lookup['f'], (x * config.tile_scalar, y * config.tile_scalar))
                print('blitting a floor', "x = ", x, "y = ", y)

        self.rect = self.image.get_rect()

        print(self.rect)

class door(spriteling.block):
    def __init__(self, **kwargs):
        super().__init__(pygame.image.load('baddies\loogloog.png').convert_alpha(), (0, 0))
        if 'coords' in kwargs:
            self.rect.center = kwargs['coords']
        if 'root_wall' in kwargs:
            self.rect.center = kwargs['root_wall'].rect.center
        if 'side_x' in kwargs:
            self.rect.centerx = kwargs['side_x']
            self.rect.centery = (kwargs['pos']*config.tile_scalar) +50
        if 'side_y' in kwargs:
            self.rect.centery = kwargs['side_y']
            self.rect.centerx = (kwargs['pos']*config.tile_scalar) +50

    def enter(self, player):
        player.rect.center = self.rect.center

    def adjust(self, **kwargs):
        if 'left' in kwargs:
            self.rect.left = kwargs['left']
        if 'right' in kwargs:
            self.rect.right = kwargs['right']
        if 'top' in kwargs:
            self.rect.top = kwargs['top']
        if 'bottom' in kwargs:
            self.rect.bottom = kwargs['bottom']